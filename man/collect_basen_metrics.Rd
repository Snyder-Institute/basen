% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/relative_abundance.R
\name{collect_basen_metrics}
\alias{collect_basen_metrics}
\title{Collect BASEN per-sample metrics from *.basen outputs}
\usage{
collect_basen_metrics(
  output_folder = NULL,
  files = NULL,
  pattern = "\\\\.basen$",
  metric = c("relative_abundance", "coverage_proxy", "both"),
  verbose = TRUE
)
}
\arguments{
\item{output_folder}{Directory containing per-sample result files, or NULL
if \code{files} is provided.}

\item{files}{Optional character vector of full paths to result files.
If provided, \code{output_folder} is ignored.}

\item{pattern}{File name pattern used to identify result files.
Defaults to \code{"\\.basen$"}.}

\item{metric}{Character; which metric(s) to collect. One of:
\code{"relative_abundance"}, \code{"coverage_proxy"}, or \code{"both"}.}

\item{verbose}{Logical; print progress and sanity checks.}
}
\value{
A \code{data.table} with columns:
\itemize{
\item \code{sample_id}
\item \code{taxid}
\item \code{relative_abundance} (if selected)
\item \code{coverage_proxy} (if selected)
}
}
\description{
This function reads multiple per-sample BASEN result files and extracts the
requested metric(s) into a single long-format table.
}
\details{
Users can choose to collect relative abundance, a coverage proxy, or both.
Genome metadata columns (e.g., name, genome_size) are intentionally not returned.
}
\examples{
## Example 1: Collect both metrics from a directory
output_folder <- "path/to/basen_outputs"
res_all <- collect_basen_metrics(
        output_folder = output_folder,
        metric = "both",
        verbose = TRUE
)

## Example 2: Collect coverage proxy from a specific set of files
files <- c(
        "path/to/SampleA.basen",
        "path/to/SampleB.basen"
)
res_subset <- collect_basen_metrics(
        files = files,
        metric = "coverage_proxy",
        verbose = FALSE
)
}
